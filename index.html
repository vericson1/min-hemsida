<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alice ♡ Viktor – Bröllop</title>
  <meta name="description" content="Interaktiv akvarellbakgrund: klicka på skyltarna i bilden för information om vigsel, fest, praktiskt och OSA." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Marcellus&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      /* Byt sökväg till din bild */
      --bg-url: url('assets/akvarell-brollop.jpg');
      --overlay: rgba(8,12,20,.30);
      --panel: #ffffff;
      --text: #0f172a; /* slate-900 */
      --muted: #475569; /* slate-600 */
      --ring: 0 0 0 3px rgba(16,185,129,.35);
      /* Nytt: styr hur bilden anpassas. 'contain' visar hela bilden, 'cover' fyller skärmen. */
      --fit: contain;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text)}

    /* Scen: bilden är responsiv, vi positionerar hotspots med procent så de stämmer i både mobil och desktop */
    .scene{position:fixed;inset:0;overflow:hidden}
    .bg{position:absolute;inset:0;background-image:var(--bg-url);background-size:var(--fit);background-position:center center;background-repeat:no-repeat;filter:saturate(105%) contrast(102%)}
    /* Suddig bakgrundsfyllning bakom bilden så "svarta kanter" blir snygg blur i stället */
    .bg::before{content:"";position:absolute;inset:-10%;background-image:var(--bg-url);background-size:cover;background-position:center;filter:blur(30px) brightness(0.9);transform:scale(1.1);z-index:-1;}
    .scrim{position:absolute;inset:0;background:var(--overlay)}

    /* Titel överst */
    header{position:fixed;top:0;left:0;right:0;display:flex;justify-content:center;padding:1rem;pointer-events:none}
    .title{pointer-events:auto;font-family:Marcellus,serif;font-size:clamp(1.4rem,6vw,3rem);background:rgba(255,255,255,.72);backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.9);border-radius:16px;padding:.35rem .9rem;box-shadow:0 10px 30px rgba(0,0,0,.15)}

    /* Hotspots: helt transparenta knappar placerade med procent. Visa subtil highlight vid hover/fokus */
    .hotspots{position:fixed;inset:0}
    .hotspot{position:absolute;display:inline-flex;align-items:center;justify-content:center;border:none;background:transparent;cursor:pointer;outline:none}
    .hotspot:focus-visible{box-shadow:var(--ring);border-radius:12px}
    .hotspot::after{content:attr(data-label);position:absolute;bottom:calc(100% + 6px);left:50%;transform:translateX(-50%);white-space:nowrap;font-weight:700;letter-spacing:.8px;text-transform:uppercase;font-size:.8rem;color:#0b0b0b;background:rgba(255,255,255,.85);padding:.25rem .5rem;border-radius:8px;border:1px solid rgba(0,0,0,.08);opacity:0;transition:opacity .15s ease}
    .hotspot:hover::after,.hotspot:focus-visible::after{opacity:1}

    /* Debug-läge: visa ramar över hotspots (lägg till ?debug=1 i URL) */
    .debug .hotspot{outline:2px dashed rgba(255,255,255,.85);background:rgba(255,255,255,.12)}

    /* Dialog/Panel */
    dialog{border:none;border-radius:22px;padding:0;box-shadow:0 30px 80px rgba(0,0,0,.45);width:min(680px,92vw)}
    dialog::backdrop{background:rgba(2,6,12,.55)}
    .panel{background:var(--panel);border-radius:22px;overflow:hidden}
    .panel header{position:sticky;top:0;padding:1rem 1.1rem;display:flex;justify-content:space-between;align-items:center;background:#fafafa;border-bottom:1px solid #eee}
    .panel h2{margin:0;font-size:1.25rem}
    .panel .content{padding:1rem 1.1rem;color:var(--muted);line-height:1.7}
    .x{appearance:none;border:1px solid #e5e7eb;background:#fff;border-radius:10px;padding:.45rem .7rem;cursor:pointer;font-weight:600}
    .x:focus{outline:none;box-shadow:var(--ring)}

    /* Placering av hotspots – värden i procent av viewporten för att följa bilden responsivt */
    /* Justera left/top/width/height så de matchar dina skyltar i målningen */
    /* Exempelkoordinater (gissade): */
    .hs-vigsel{left:6%; top:66%; width:22%; height:6%}
    .hs-fest  {left:6%; top:74%; width:20%; height:6%}
    .hs-info  {left:6%; top:82%; width:18%; height:6%}
    .hs-osa   {left:6%; top:90%; width:16%; height:6%}

    /* Mindre skärmar: lite bredare hotspots för lättare träff */
    @media (max-width:520px){
      /* På små skärmar fyller vi hellre skärmen än visar hela bilden */
      :root{ --fit: cover; }
      .hs-vigsel{width:60vw;height:8vh;left:5vw}
      .hs-fest  {width:56vw;height:8vh;left:5vw}
      .hs-info  {width:52vw;height:8vh;left:5vw}
      .hs-osa   {width:48vw;height:8vh;left:5vw}
    }
      .hs-fest  {width:56vw;height:8vh;left:5vw}
      .hs-info  {width:52vw;height:8vh;left:5vw}
      .hs-osa   {width:48vw;height:8vh;left:5vw}
    }
  </style>
</head>
<body>
  <div class="scene" id="scene">
    <div class="bg" aria-hidden="true"></div>
    <div class="scrim" aria-hidden="true"></div>
  </div>

  <header aria-label="Titel"><div class="title">Alice ♡ Viktor</div></header>

  <!-- Hotspots över bilden (klicka direkt på skyltarna i målningen) -->
  <div class="hotspots" aria-label="Klickbara skyltar">
    <button class="hotspot hs-vigsel" data-label="Vigsel" aria-haspopup="dialog" aria-controls="dlg-vigsel" title="Vigsel" ></button>
    <button class="hotspot hs-fest"   data-label="Fest"   aria-haspopup="dialog" aria-controls="dlg-fest"   title="Fest"   ></button>
    <button class="hotspot hs-info"   data-label="Info"   aria-haspopup="dialog" aria-controls="dlg-info"   title="Praktisk info"></button>
    <button class="hotspot hs-osa"    data-label="OSA"    aria-haspopup="dialog" aria-controls="dlg-osa"    title="OSA"    ></button>
  </div>

  <!-- Dialoger -->
  <dialog id="dlg-vigsel">
    <div class="panel">
      <header>
        <h2>Vigsel</h2>
        <button class="x" data-close>Stäng</button>
      </header>
      <div class="content">
        <p>Vigseln äger rum i den vita kyrkan vid vattnet. Tid: <strong>14:00</strong>. Samling från <strong>13:30</strong>.</p>
        <p>Adress: Kyrkvägen 1. Parkering finns vid hembygdsgården (5 min promenad).</p>
      </div>
    </div>
  </dialog>

  <dialog id="dlg-fest">
    <div class="panel">
      <header>
        <h2>Fest</h2>
        <button class="x" data-close>Stäng</button>
      </header>
      <div class="content">
        <p>Efter vigseln fortsätter vi med bröllopsfest i festlokalen vid småbåtshamnen.</p>
        <p>Middag ~ <strong>17:30</strong>, dans från <strong>20:00</strong>.</p>
        <p>Klädsel: Kavaj.</p>
      </div>
    </div>
  </dialog>

  <dialog id="dlg-info">
    <div class="panel">
      <header>
        <h2>Praktisk info</h2>
        <button class="x" data-close>Stäng</button>
      </header>
      <div class="content">
        <ul>
          <li>Transport mellan kyrka och fest erbjuds – meddela vid OSA.</li>
          <li>Presenter: Vi önskar oss upplevelser och minnen.</li>
          <li>Hashtag: <strong>#AliceViktor</strong></li>
        </ul>
      </div>
    </div>
  </dialog>

  <dialog id="dlg-osa">
    <div class="panel">
      <header>
        <h2>OSA</h2>
        <button class="x" data-close>Stäng</button>
      </header>
      <div class="content">
        <p>Osa senast <strong>1 maj</strong>.</p>
        <p>Maila oss: <a class="btn" href="mailto:aliceochviktor@example.com?subject=OSA%20br%C3%B6llop">Skicka OSA</a></p>
        <p>Specialkost? Skriv i mailet.</p>
      </div>
    </div>
  </dialog>

  <script>
    // Debug-läge: lägg till ?debug=1 i URL för att se konturerna på hotspots
    const params = new URLSearchParams(location.search);
    if(params.get('debug')==='1'){ document.body.classList.add('debug'); }

    // Öppna/stäng dialoger
    const map = {
      vigsel: document.getElementById('dlg-vigsel'),
      fest:   document.getElementById('dlg-fest'),
      info:   document.getElementById('dlg-info'),
      osa:    document.getElementById('dlg-osa')
    };

    document.querySelectorAll('.hotspot').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        const dlg = document.getElementById(id);
        if(!dlg) return;
        dlg.showModal();
        const firstClose = dlg.querySelector('[data-close]');
        if(firstClose) firstClose.focus();
      })
    })

    document.querySelectorAll('dialog [data-close]').forEach(x=>{
      x.addEventListener('click', e=> e.target.closest('dialog').close());
    })

    // Klick utanför panelen stänger
    document.querySelectorAll('dialog').forEach(dlg=>{
      dlg.addEventListener('click', (e)=>{
        const r = dlg.getBoundingClientRect();
        if (e.clientX < r.left || e.clientX > r.right || e.clientY < r.top || e.clientY > r.bottom) {
          dlg.close();
        }
      })
    })
  </script>
</body>
</html>
